{% extends 'staffweb/plantilla.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'staffweb/css/cambiar_contrasena.css' %}">
<link rel="stylesheet" href="{% static 'staffweb/css/editar_noticiasyeventos.css' %}">
<title>{% if publicacion %}Editar{% else %}Nueva{% endif %} PublicaciÃ³n</title>
{% endblock head %}

{% block principal %}
<div class="header">
    <h1>{% if publicacion %}Editar{% else %}Nueva{% endif %} Noticias y Avisos</h1>
    <p>AquÃ­ puedes editar las noticias y avisos</p>
</div>

<div class="editar-wrapper">
  <div class="editar-header">
    <h2 class="subtitulo">Noticias y Avisos</h2>
  </div>

  <div class="editar-card">
    <form method="POST">
      {% csrf_token %}

      <div class="form-group">
        <label for="titulo">TÃ­tulo</label>
        <input type="text" id="titulo" name="titulo" value="{{ publicacion.titulo|default_if_none:'' }}" required>
      </div>

      <div class="form-group">
        <label for="contenido">Contenido</label>
        <textarea id="contenido" name="contenido" rows="4" required>{{ publicacion.contenido|default_if_none:'' }}</textarea>
      </div>

      <div class="form-group">
        <label for="fecha">Fecha del evento</label>
        <input type="date" id="fecha" name="fecha" value="{{ publicacion.fecha_emitida|default_if_none:'' }}" required>
      </div>

      <div class="form-group">
        <label for="tipo">Tipo</label>
        <select id="tipo" name="tipo">
          <option value="Uno" {% if publicacion.TipoAnuncio == "Uno" %}selected{% endif %}>Noticia</option>
          <option value="Dos" {% if publicacion.TipoAnuncio == "Dos" %}selected{% endif %}>Aviso</option>
        </select>
      </div>

      <div class="botones">
        <a href="{% url 'administrar_noticiasyeventos' %}" class="btn cancelar">Cancelar</a>
        <button type="submit" class="btn guardar">ðŸ’¾ Guardar</button>
      </div>
    </form>
  </div>
</div>

<!-- ALERTAS CENTRADAS -->
<div id="successAlert" class="alert success" style="display:none;">
  <div class="alert-icon">âœ“</div>
  <span id="successMessageAlert"></span>
</div>

<div id="errorAlert" class="alert error" style="display:none;">
  <div class="alert-icon">âœ•</div>
  <span id="errorMessageAlert"></span>
</div>


<!-- Overlay de carga -->
<div id="loadingOverlay">
    <div class="spinner"></div>
</div>

{% endblock principal %}


{% block js %}
  <script src="{% static 'staffweb/js/editar_noticiasyeventos.js' %}"></script>
{% endblock js %}