{% extends 'staffweb/plantilla.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'staffweb/css/administrar_noticiasyeventos.css' %}">
<title>Administrar noticias y eventos</title>
{% endblock head %}

{% block principal %}
<div class="header">
    <h1>Administrar noticias y eventos</h1>
    <p>Aquí puedes modificar, crear, eliminar noticias y eventos</p>
</div>


<div class="search-filter-section">
    <div class="search-container">
        <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
        <input type="text" class="search-input" placeholder="Buscar noticias o avisos..." id="searchNoticias">
    </div>

    <div class="sort-container">
        <select id="sortNoticias">
            <option value="recientes">Más recientes</option>
            <option value="antiguas">Más antiguas</option>
        </select>
    </div>
</div>


<!-- Tabs -->
<div class="status-tabs">
    <button class="status-tab active" data-type="noticias">Noticias</button>
    <button class="status-tab" data-type="avisos">Avisos</button>
</div>

<!-- Noticias / Avisos Grid -->
<div class="noticias-section">
    <h2>Últimas publicaciones</h2>
    <div id="noticiasGrid" class="noticias-grid">
       
        {% for pub_id, pub in publicaciones.items %}
        <div class="noticia-card">
            <h3>{{ pub.titulo }}</h3>
            <p class="fecha">Publicado el {{ pub.fecha }}</p>
            <p class="autor">Por: {{ pub.autor }}</p>
            <p class="contenido">{{ pub.contenido }}</p>
            
            <div class="acciones-card">
                <a href="{% url 'editar_publicacion' pub_id %}" class="btn editar">✏️ Editar</a>
                <a href="{% url 'eliminar_publicacion' pub_id %}" class="btn eliminar">🗑️ Eliminar</a>
            </div>
        </div>
        {% empty %}
        <p>No hay publicaciones disponibles</p>
        {% endfor %}
    </div>
</div>

{% endblock principal %}

{% block js %}
<script src="{% static 'staffweb/js/administrar_noticiasyeventos.js' %}"></script>
{% endblock js %}

