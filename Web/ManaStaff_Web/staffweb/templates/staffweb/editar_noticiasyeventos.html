{% extends 'staffweb/plantilla.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'staffweb/css/editar_noticiasyeventos.css' %}">
<title>{% if publicacion %}Editar{% else %}Nueva{% endif %} PublicaciÃ³n</title>
{% endblock head %}

{% block principal %}
<div class="editar-wrapper">
  <div class="editar-header">
    <h1 class="titulo-principal">{% if publicacion %}Editar{% else %}Nueva{% endif %} PublicaciÃ³n</h1>
    <h2 class="subtitulo">Noticias y Avisos</h2>
    <p class="descripcion">AquÃ­ puedes editar las noticias y avisos</p>
  </div>

  <div class="editar-card">
    <form method="POST">
      {% csrf_token %}

      <div class="form-group">
        <label for="titulo">TÃ­tulo</label>
        <input type="text" id="titulo" name="titulo" value="{{ publicacion.titulo|default_if_none:'' }}" required>
      </div>

      <div class="form-group">
        <label for="contenido">Contenido</label>
        <textarea id="contenido" name="contenido" rows="4" required>{{ publicacion.contenido|default_if_none:'' }}</textarea>
      </div>

      <div class="form-group">
        <label for="fecha">Fecha</label>
        <input type="date" id="fecha" name="fecha" value="{{ publicacion.fecha_emitida|default_if_none:'' }}" required>
      </div>

      <div class="form-group">
        <label for="autor">Autor</label>
        <input type="text" id="autor" name="autor" value="{{ publicacion.id_empleador|default_if_none:'' }}" required>
      </div>

      <div class="form-group">
        <label for="tipo">Tipo</label>
        <select id="tipo" name="tipo">
          <option value="Uno" {% if publicacion.TipoAnuncio == "Uno" %}selected{% endif %}>Noticia</option>
          <option value="Dos" {% if publicacion.TipoAnuncio == "Dos" %}selected{% endif %}>Aviso</option>
        </select>
      </div>

      <div class="botones">
        <a href="{% url 'administrar_noticiasyeventos' %}" class="btn cancelar">Cancelar</a>
        <button type="submit" class="btn guardar">ðŸ’¾ Guardar</button>
      </div>
    </form>
  </div>
</div>
{% endblock principal %}
